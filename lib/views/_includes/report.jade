if (report)
  .weather-table
    - var openedDays = 5;
    //- each day, ri in report.days
    - for (var ri=0;ri<10&ri<report.days.length;ri++)
      - var day = report.days[ri];
      - var timezone = report.timezone || config.timezone;
      - var dayDate = util.moment.tz(day.times[day.times.length-1].time, timezone).locale(currentCulture.language);
      - var dayTime = day.times[parseInt((day.times.length-1)/2)];
      - var maxTime = day.times.reduce(function(max, c){return c.t.value>max.t.value?c:max;});
      - var minTime = day.times.reduce(function(min, c){return c.t.value<min.t.value?c:min;});
      - var isWeekend = [6, 7].indexOf(dayDate.isoWeekday()) > -1;
      - var dayWindCode = dayTime.wind.dir.code.length>2?dayTime.wind.dir.code.substr(1):dayTime.wind.dir.code;
      - var todayHolidays = holidays[dayDate.format('YYYY-MM-DD')];
      .report-details(class=(ri<openedDays ? 'opened' : null))
        div
          //- .wt-caption
          //-   .date= dayDate.format('D MMMM')
          .wt-head
            .wt-col.wt-date(class=isWeekend ? 'weekend' : null)
              .date= dayDate.format('dddd')
                | , 
                = dayDate.format('D MMMM')
            .wt-temp.wt-col= __('temperature')
            //- .wt-precip.wt-col
            .wt-pressure.wt-col= __('item_pressure')
            .wt-wind.wt-col= __('wind')
          .table
            each item in day.times
              - var symbol_name = util.weather.symbolName(item.symbol, currentCulture.language)
              - var date = util.moment.tz(item.time, timezone).locale(currentCulture.language);
              - var windCode = item.wind.dir.code.length>2?item.wind.dir.code.substr(1):item.wind.dir.code;
              .wt-row
                .wt-col.wt-date= date.format('HH:00')
                .wt-col.wt-temp
                  i.w-icon(class='wi-' + item.symbol.number, title=symbol_name)
                  span.temp= item.t.value
                    | &deg;
                  span.name= symbol_name
                .wt-col.wt-pressure
                  span.value= util.weather.pressureTommHg(item.pressure.value)
                //- .wt-col.wt-precip
                //-   if (item.p.value)
                //-     //- i.wi.wi-raindrops
                //-     span.value= item.p.value + ' ' + __('mm')
                .wt-col.wt-wind
                  //- i.wi.wi-wind(class='wi-towards-' + item.wind.dir.code.toLowerCase())
                  span.wind-speed(class='beaufort-'+item.wind.speed.beaufort)= item.wind.speed.mps
                  = __('item_wind_speed_ms')
                  span.wind-dir(title=windCode, class='wind-dir-'+windCode) &rarr;
        if (todayHolidays)
          .wt-footer
            each item in todayHolidays
              div= item.name
      .report-summary(class=(ri<openedDays ? 'closed' : null))
        .wt-body
          .wt-col.wt-date(class=isWeekend ? 'weekend' : null)
            .wday= dayDate.format('dddd')
            .date= dayDate.format('D MMMM')
          .wt-col.wt-temp
            i.w-icon(class='wi-' + dayTime.symbol.number)
            span.temp= maxTime.t.value
              | &deg;
            if (day.times.length>1)
              span.temp-night= minTime.t.value
                | &deg;
          .wt-col.wt-pressure
            span.value= util.weather.pressureTommHg(dayTime.pressure.value)
          //- .wt-col.wt-precip
          //-   if (totalPrecipitation)
          //-     //- i.wi.wi-raindrops
          //-     span.value= totalPrecipitation + ' ' + __('mm')
          .wt-col.wt-wind
            span.wind-speed(class='beaufort-'+dayTime.wind.speed.beaufort)= dayTime.wind.speed.mps
            = __('item_wind_speed_ms')
            span.wind-dir(title=dayWindCode, class='wind-dir-' + dayWindCode) &rarr;
        if (todayHolidays)
          .wt-footer
            each item in todayHolidays
              div= item.name
      if (ri === 0)
        .text-center
          // Ournet weather middle
          ins.adsbygoogle(style='display:block', data-ad-client='ca-pub-3959589883092051', data-ad-slot='1389535435', data-ad-format='auto')
          script.
            (adsbygoogle = window.adsbygoogle || []).push({});
      if (~['ro', 'ru'].indexOf(currentCulture.language) && ri==openedDays)
        .group
          style(type='text/css', scoped='').
            .mauticform_wrapper {padding: 10px 10px 1px 10px; background-color: #dfdacb;
            background-image: url('https://c2.staticflickr.com/8/7724/26987380802_dc156534d3_z.jpg'); background-position: center center; background-size: cover;}
            .mauticform-innerform {}
            .mauticform-title{color: #fff;text-shadow: 0 1px 4px rgba(0, 0, 0, .6);font-size:140%;font-weight: bold;}
            .mauticform-post-success {}
            .mauticform-name { font-weight: bold; font-size: 1.5em; margin-bottom: 3px; }
            .mauticform-description { margin-top: 2px; margin-bottom: 10px; }
            .mauticform-error {color: red; }
            .mauticform-message {color: green; }
            .mauticform-row { display: block; margin-bottom: 10px; }
            .mauticform-label { font-size: 1.1em; display: block; font-weight: bold; margin-bottom: 5px; }
            .mauticform-row.mauticform-required .mauticform-label:after { color: #e32; content: " *"; display: inline; }
            .mauticform-helpmessage { display: block; font-size: 0.9em; margin-bottom: 3px; }
            .mauticform-errormsg { display: block; color: red; margin-top: 2px; }
            .mauticform-selectbox, .mauticform-input, .mauticform-textarea { width: 99%;}
            .mauticform-checkboxgrp-row {}
            .mauticform-checkboxgrp-label { font-weight: normal; }
            .mauticform-checkboxgrp-checkbox {}
            .mauticform-radiogrp-row {}
            .mauticform-radiogrp-label { font-weight: normal; }
            .mauticform-radiogrp-radio {}
            .mauticform-button {background-color: #cb5800; color: #fff; border-radius: 3px; border: none;padding: 3px 10px;}
          #mauticform_wrapper_weathernewsletterro.mauticform_wrapper
            form#mauticform_weathernewsletterro(autocomplete='false', role='form', method='post', action='https://ournet.mautic.net/form/submit?formId=1', data-mautic-form='weathernewsletterro')
              #mauticform_weathernewsletterro_error.mauticform-error
              #mauticform_weathernewsletterro_message.mauticform-message
              .mauticform-innerform
                p.mauticform-title= util.format(__('forecast_on_email_place'),place.getName(currentCulture.language))
                #mauticform_weathernewsletterro_email.mauticform-row.mauticform-email.mauticform-required(data-validate='email', data-validation-type='email')
                  input#mauticform_input_weathernewsletterro_email.mauticform-input(name='mauticform[email]', value='', placeholder='Email', type='email')
                  span.mauticform-errormsg(style='display: none;')= __('invalid_email')
                input#mauticform_input_weathernewsletterro_cityid.mauticform-hidden(name='mauticform[cityid]', value=place.id, type='hidden')
                input#mauticform_input_weathernewsletterro_city.mauticform-hidden(name='mauticform[city]', value=place.name, type='hidden')
                input#mauticform_input_weathernewsletterro_language.mauticform-hidden(name='mauticform[language]', value=currentCulture.language, type='hidden')
                input#mauticform_input_weathernewsletterro_country.mauticform-hidden(name='mauticform[country]', value=currentCulture.country, type='hidden')
                #mauticform_weathernewsletterro_submit.mauticform-row.mauticform-button-wrapper
                  button#mauticform_input_weathernewsletterro_submit.mauticform-button(type='submit', name='mauticform[submit]', value='')= __('subscribe')
                input#mauticform_weathernewsletterro_id(type='hidden', name='mauticform[formId]', value='1')
                input#mauticform_weathernewsletterro_return(type='hidden', name='mauticform[return]', value='')
                input#mauticform_weathernewsletterro_name(type='hidden', name='mauticform[formName]', value='weathernewsletterro')
    //- #weather-source-footer
      span#yr-logo
      = __('weather_cright')
    p.small.text-muted= subTitle
